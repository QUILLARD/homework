{% load static %}

{% load bboard_tags %}

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{{ title }}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'bboard/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'bboard/css/media.css' %}">
    </head>
<body>
<div class="flex-box">

<header class="header">
    <div class="container">
        <div class="header-nav">
            <a href="{% url 'index' %}" class="logo">NAVARO</a>
            <nav class="nav">
<!--                <ul class="nav-list">-->
<!--                    {% for m in menu %}-->
<!--                    <li class="nav-item">-->

<!--                                {% if m.url_name %}-->
<!--                                <a href="{% url m.url_name %}" class="nav-link">{{ m.title }}</a>-->
<!--                                {% else %}-->
<!--                                <span class="nav-link">{{ m.title }}</span>-->
<!--                                {% endif %}-->
<!--                    </li>-->
<!--                    {% endfor %}-->
<!--                    <a href="#" class="nav-link" >Регистрация</a> <a href="#" class="nav-link">Войти</a>-->
<!--                </ul>-->
                <div class="dropdown dropdown-title">
                    <a href="{% url 'usercheck' %}" class="nav-link" aria-current="page">Домашнаяя работа 26</a>
                </div>
                <div class="dropdown dropdown-title">
                    <a href="{% url 'index' %}" class="nav-link" aria-current="page">Главная</a>
                </div>
                <div class="dropdown dropdown-title">
                    <a href="{% url 'index' %}" class="nav-link">Объявления</a>
                    <div class="dropdown-content">
                        <a href="{% url 'add' %}" class="dropdown">Создать объявление</a>
                    </div>
                </div>
                <div class="dropdown dropdown-title">
                    <span class="nav-link">Задачи</span>
                    <div class="dropdown-content">
                        <a href="{% url 'task_add' %}" class="dropdown" style="width: 200px;">Создать задачу</a>
                        <a href="{% url 'list_tasks' %}" class="dropdown">Все задачи</a>
                    </div>
                </div>
                <div class="dropdown dropdown-title">
                    <a href="{% url 'ice_cream' %}" class="nav-link">Мороженое</a>
                    <div class="dropdown-content">
                        <a href="{% url 'create_ice_cream' %}" class="dropdown" style="width: 200px;">Добавить мороженое</a>

                    </div>
                </div>
                <div class="dropdown dropdown-title">
                    {% if not request.user.is_authenticated %}
                        <a class="nav-link" href="{% url 'authapp:register' %}">Регистрация</a>
                    |
                        <a class="nav-link" href="{% url 'authapp:login' %}">Войти</a>
                    {% else %}
                        <a class="nav-link">{{ user.username }}</a>
                    |
                        <a class="nav-link" href="{% url 'authapp:logout' %}">Выйти</a>
                    {% endif %}

                </div>

            </nav>

        </div>
    </div>
</header>

<div>
{% block content %}

{% endblock %}

{% if page_obj.has_other_pages %}
<nav class="list-pages">
    <ul>
        {% if page_obj.has_previous %}

        <a href="?page={{ page_obj.previous_page_number }}"><li class="page-num">&lt;</li></a>
            {% if page_obj.previous_page_number > 3 %}
                    <a href="?page=1"><li class="page-num">1</li></a>
                    <li>...</li>
            {% endif %}
        {% endif %}

        {% for p in paginator.page_range %}

		    {% if page_obj.number == p %}
            <li class="page-num page-num-selected">{{ p }}</li>
		    {% elif p >= page_obj.number|add:-2 and p <= page_obj.number|add:2  %}
            <a href="?page={{ p }}"><li class="page-num">{{ p }}</li></a>
		    {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}

            {% if page_obj.next_page_number|add:2 < page_obj.paginator.num_pages %}
                <li>...</li>
                <a href="?page={{ page_obj.paginator.num_pages }}"><li class="page-num">{{ page_obj.paginator.num_pages }}</li></a>
            {% endif %}
        <a href="?page={{ page_obj.next_page_number }}"><li class="page-num">&gt;</li></a>
        {% endif %}

    </ul>
</nav>
{% endif %}
</div>

<footer>
        <p>
            Мы в соцсетях
        </p>
    <div>
        <a href="#"><img class="icons" src="{% static 'bboard/img/icons/Telegram.svg' %}"></a>
        <a href="#"><img class="icons" src="{% static 'bboard/img/icons/Facebook.svg' %}"></a>
        <a href="#"><img class="icons" src="{% static 'bboard/img/icons/Instagram.svg' %}"></a>
        <a href="#"><img class="icons" src="{% static 'bboard/img/icons/VK.svg' %}"></a>
        <a href="#"><img class="icons" src="{% static 'bboard/img/icons/Twitter.svg' %}"></a>
    </div>

</footer>
</div>
</body>
</html>